<a name="mr"></a>
<article class="art2">
  <br>
  <div id="inputzone">
    <div id="l_chart_value"></div>
    <br>
    <form id="form32" onsubmit=" return false;">
      <select id="speed1" name="speed">
        <option value="">속도</option>
        <option value="30">30</option>
        <option value="60">60</option>
        <option value="90">90</option>
      </select>
      <select id="encoder1" name="encoder">
        <option value="">엔코더</option>
        <option value="22">22</option>
        <option value="44">44</option>
        <option value="66">66</option>
      </select>
      <button id="all_submit" type="submit">제출</button>
    </form>
    <form id="form">
      <div id="inputzone_do">
        <div id="d_chart_value"></div>
        <!-- <input type="button" class="chart-value" onclick="getValueInText();"  value="입력"> -->
        <input id="set-chart" type="button" class="chart-value" value="입력">
      </div>
      <!-- <button type="button" id="reData2">데이터 적용</button> -->
    </form>
  </div>
  <!-- <button type="button" id="reData2">데이터 적용</button> -->

  <!------------------------------         도넛차트존1    ------------------------------------>
  <div class="do_chart_zone" id="chart_d1" style="height:100px; width:30vw">
    <canvas id="myChart"></canvas>
  </div>

  <!------------------------------         도넛차트존2    ------------------------------------>
  <div class="e_do_chart_zone" id="chart_d2" style="height:100px; width:30vw">
    <canvas id="myChart3"></canvas>
  </div>

  <form id="form">
    <div id="inputzone_do">
      <div id="e_d_chart_value"></div>
      <!-- <input type="button" class="chart-value" onclick="getValueInText();"  value="입력"> -->
      <br>
    </div>
    <!-- <button type="button" id="reData2">데이터 적용</button> -->
  </form>

  <!------------------------------         color 도넛존    ------------------------------------>
  <div class="c_do_chart_zone" id="chart_d3" style="height:100px; width:30vw">
    <canvas id="myChart4"></canvas>
  </div>

  <form id="form">
    <div id="inputzone_do">
      <div id="c_d_chart_value"></div>
      <br>
    </div>
    <!-- <button type="button" id="reData2">데이터 적용</button> -->
  </form>

  <!--         라인차트존              -->
  <div class="li_chart_zone" id="chart_l1" style="
  background-color: white;
  position: relative; 
  right: 300px;
  height:400px; 
  width:800px">
    <canvas id="myChart2"></canvas>
  </div>

  <div class="li_button">
    <button type="button" id="addData">데이터 추가</button><br>
    <button type="button" id="delData">데이터 삭제</button><br>
    <!-- <button type="button" id="addDataSet">데이터셋 추가</button> -->
    <button type="button" id="delDataset">한개 삭제</button><br>
    <button type="button" id="del_line_dset">전체 새로고침</button><br>
    <button type="button" id="del_do_dset">도넛새로고침</button>
  </div>
</article>
<script>
  $("#form32").on("submit", function (e) {
    e.preventDefault();
    $.ajax({

      type: "post",
      url: "/select/chart/",
      data: JSON.stringify({
        "speed": $("#speed1").val(),
        "encoder": $("#encoder1").val()
      }),
      success: function (data) {
        console.log("서버에서 처리되어 돌아온 데이터 : ", data)

        if (document.getElementById('l_data') || document.getElementById('d_data')) {
          for (var i = 0; i < 5; i++) {
            const remove = document.getElementById('l_data');
            remove.parentNode.removeChild(remove);
            const remove1 = document.getElementById('d_data');
            remove1.parentNode.removeChild(remove1);
            const remove2 = document.getElementById('e_data');
            remove2.parentNode.removeChild(remove2);
          }
        }

        for (let i = 0; i < 5; i++) {
          const addedInput = $(`<input class="chart-value" id="l_data" type="hidden">`)
          addedInput.val(data[i])
          $("#l_chart_value").append(addedInput)
        }
        for (let i = 5; i < 10; i++) {
          const addedInput2 = $(`<input class="chart-value2" id="d_data" type="hidden">`)
          addedInput2.val(data[i])
          $("#d_chart_value").append(addedInput2)
        }

        for (let i = 10; i < 15; i++) {
          const addedInput3 = $(`<input class="chart-value3" id="e_data" type="hidden">`)
          addedInput3.val(data[i])
          $("#e_d_chart_value").append(addedInput3)
        }

        for (let i = 15; i < 20; i++) {
          const addedInput4 = $(`<input class="chart-value4" id="c_data" type="hidden">`)
          addedInput4.val(data[i])
          $("#c_d_chart_value").append(addedInput4)
        }
        //<input class="chart-value" type="text" value="data[i]"> 
      }
    });
  })

</script>